{
  "info": {
    "_postman_id": "1427d125-0355-4100-adcc-7d0a41ac9f14",
    "name": "Jira Discord Webhook Tests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Issue Event",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Content-Type", "value": "application/json"}
        ],
        "url": {"raw": "{{base_url}}/webhook", "host": ["{{base_url}}"], "path": ["webhook"]},
        "body": {"mode": "raw", "raw": "{"issue":{"key":"PRJ-1","fields":{"summary":"Test issue","description":"desc","priority":{"name":"High"},"assignee":{"displayName":"Bob"},"issuetype":{"name":"Task"},"status":{"name":"Open"}}}}"}
      },
      "event": [{"listen": "test", "script": {"exec": ["pm.test(\"Status code is 200\", function () {", "    pm.response.to.have.status(200);", "});"]}}]
    },
    {
      "name": "Comment Event",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Content-Type", "value": "application/json"}
        ],
        "url": {"raw": "{{base_url}}/webhook", "host": ["{{base_url}}"], "path": ["webhook"]},
        "body": {"mode": "raw", "raw": "{"issue":{"key":"PRJ-2","fields":{"summary":"Commented","description":"desc","priority":{"name":"High"},"assignee":{"displayName":"Bob"},"issuetype":{"name":"Task"},"status":{"name":"Open"}}},"comment":{"body":"looks good","author":{"displayName":"Alice"}}}"}
      },
      "event": [{"listen": "test", "script": {"exec": ["pm.test(\"Status code is 200\", function () {", "    pm.response.to.have.status(200);", "});"]}}]
    },
    {
      "name": "Changelog Event",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Content-Type", "value": "application/json"}
        ],
        "url": {"raw": "{{base_url}}/webhook", "host": ["{{base_url}}"], "path": ["webhook"]},
        "body": {"mode": "raw", "raw": "{"issue":{"key":"PRJ-3","fields":{"summary":"Change","description":"desc","priority":{"name":"High"},"assignee":{"displayName":"Bob"},"issuetype":{"name":"Task"},"status":{"name":"Closed"}}},"changelog":{"items":[{"field":"status","fromString":"Open","toString":"Closed"}]}}"}
      },
      "event": [{"listen": "test", "script": {"exec": ["pm.test(\"Status code is 200\", function () {", "    pm.response.to.have.status(200);", "});"]}}]
    },
    {
      "name": "Comment & Changelog Event",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Content-Type", "value": "application/json"}
        ],
        "url": {"raw": "{{base_url}}/webhook", "host": ["{{base_url}}"], "path": ["webhook"]},
        "body": {"mode": "raw", "raw": "{\"issue\":{\"key\":\"PRJ-4\",\"fields\":{\"summary\":\"Comment and Change\",\"description\":\"desc\",\"priority\":{\"name\":\"High\"},\"assignee\":{\"displayName\":\"Bob\"},\"issuetype\":{\"name\":\"Task\"},\"status\":{\"name\":\"Closed\"}}},\"comment\":{\"body\":\"needs work\",\"author\":{\"displayName\":\"Alice\"}},\"changelog\":{\"items\":[{\"field\":\"status\",\"fromString\":\"Open\",\"toString\":\"Closed\"}]}}"}
      },
      "event": [{"listen": "test", "script": {"exec": ["pm.test(\"Status code is 200\", function () {", "    pm.response.to.have.status(200);", "});"]}}]
    }
  ]
}
